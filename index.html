<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Todolist by monkey65535</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Todolist</h1>
      <h2 class="project-tagline">一个简单的个人任务管理工具</h2>
      <a href="https://github.com/monkey65535/todoList" class="btn">View on GitHub</a>
      <a href="https://github.com/monkey65535/todoList/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/monkey65535/todoList/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="todolist" class="anchor" href="#todolist" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>todoList</h1>

<p>一个简单的个人任务管理工具
页面中所有内容使用数据进行渲染。</p>

<p>工具：</p>

<ul>
<li>使用sass来编写css</li>
<li>使用原生js对功能进行实现,没有使用任何类库和框架</li>
<li>使用gulp进行项目构建，实现对sass的实时编译和对页面的监控</li>
</ul>

<p>兼容：IE9+</p>

<p>实现的功能：
最左侧为任务分类列表，支持查看所有任务或者查看某个分类下的所有任务</p>

<ul>
<li>初始时有一个<code>默认分类</code>，进入页面时默认选中<code>默认分类</code>。</li>
<li>分类支持多层级别。</li>
<li>分类支持<strong>增加</strong>分类</li>
<li>在左侧分类最下方有添加操作，点击后弹出浮层让输入新分类的名称，新分类将会被添加到当前选中的分类下。
每一个分类名字后显示一个当前分类下的未完成任务总数量。</li>
<li>中间列为任务列表，用于显示当前选中分类下的所有未完成任务

<ul>
<li>任务列表按日期（升序或者降序，自行设定）进行聚类</li>
<li>用不同的字体颜色或者图标来标示任务的状态，任务状态有两张：<code>已完成</code>或<code>未完成</code>。</li>
<li>下方显示<code>新增任务</code>的按钮，点击后，右侧列会变成新增任务编辑界面。</li>
<li>单击某个任务后，会在右侧显示该任务的详细信息。</li>
<li>在任务列表的上方有任务筛选项，可以选择在任务列表中显示所有任务，或者只显示<code>已完成</code>或者<code>未完成</code>的任务。</li>
</ul>
</li>
<li>右侧为任务详细描述部分

<ul>
<li>第一行显示任务标题，对于未完成的任务，在标题行的右侧会有<code>完成任务</code>的操作按钮及<code>编辑任务</code>的按钮。</li>
<li>点击<code>完成任务</code>按钮时，弹出确认是否确认完成的浮层，确认后该任务完成，更新中间列任务的状态。弹出的确认浮层可以自行设计实现，也可以直接使用<code>confirm</code>。</li>
<li>点击<code>编辑任务</code>操作后，右侧变更为编辑窗口。</li>
</ul>
</li>
<li>新增及编辑任务窗口描述

<ul>
<li>有3个输入框：分别是标题输入框，完成日期输入框及内容输入框</li>
<li>标题输入框：输入标题，为单行，需要自行设定一个标题输入限制的规则（如字数），并给出良好提示。</li>
<li>日期输入框：单行输入框，按照要求格式输入日期，如yyyy-mm-dd</li>
<li>内容输入框：多行输入框，自行设定一个内容输入的限制（如字数），并给出良好提示。</li>
<li>确认按钮：确认新增或修改。</li>
<li>取消按钮：取消新增或修改。</li>
</ul>
</li>
</ul>

<p>目前进度：基本完成</p>

<p>遇到的问题：</p>

<h3>
<a id="问题1" class="anchor" href="#%E9%97%AE%E9%A2%981" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>问题1：</h3>

<p>数据结构的搭建
由于是有四级的菜单，如果使用一半的对象嵌套数组/对象的方式的话，会造成获取数据困难。
解决办法：
使用了三个数组，然后给每一条数据一个<code>child</code>数据，对应下一级的菜单。同时给下级菜单一个<code>fatherId</code>数据，对应这个父级数据。  这样就可以通过这些<code>id</code>去获取子菜单和父菜单</p>

<h3>
<a id="问题2" class="anchor" href="#%E9%97%AE%E9%A2%982" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>问题2：</h3>

<p>中间任务菜单的格式为：<code>li</code>内<code>h4</code>标签为时间，下方<code>a</code>标签里为这个时间的项目
如果对数据进行处理，来实现这样的渲染?</p>

<p>解决办法：利用对象的key值不能重复的特性，先遍历一次数据，把日期最为key值，value为空数组创建一个新的对象，然后再次遍历数据，把对应时期的<code>child</code>节点push到这个key对应的空数组中。
然后把这个新的对象作为数据进行渲染。</p>

<h3>
<a id="问题3" class="anchor" href="#%E9%97%AE%E9%A2%983" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>问题3：</h3>

<p>完成状态的选项卡切换。
这里的选项卡切换并不是切换下方<code>ul</code>,而是重新渲染数据。
所以需要根据左侧的选中项和选向卡状态来切换。
解决办法：
使用HTML5的<code>data</code>属性来进行存储id和选项卡key值，判断左侧分类在哪个父级分类上，来进行渲染</p>

<h3>
<a id="问题4" class="anchor" href="#%E9%97%AE%E9%A2%984" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>问题4:</h3>

<p>使用 <code>addEventListener</code> 添加分类的时候会根据添加次数添加数据递增，比如第一次加了一条，第二次加了两条，第三次加了三条，依次类推</p>

<p>解决办法：
事件绑定会有一个重复绑定的问题，在数据拿到之后清除这一次的绑定事件，以便下一次使用</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/monkey65535/todoList">Todolist</a> is maintained by <a href="https://github.com/monkey65535">monkey65535</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
